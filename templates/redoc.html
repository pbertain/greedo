<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReDoc API Documentation - Gree.do</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    
    <!-- ReDoc CSS -->
    <link href="https://cdn.jsdelivr.net/npm/redoc@2.1.3/bundles/redoc.standalone.css" rel="stylesheet">
    
    <style>
        /* Custom ReDoc styling to match Gree.do theme */
        redoc {
            --redoc-brand-color: #10b981 !important;
            --redoc-background-color: #0f172a !important;
            --redoc-text-primary-color: #f8fafc !important;
            --redoc-text-secondary-color: #cbd5e1 !important;
            --redoc-border-color: #475569 !important;
            
            /* Force all text to be light colored */
            color: #f8fafc !important;
            
            /* Code styling */
            --redoc-code-background-color: #1e293b !important;
            --redoc-code-text-color: #e2e8f0 !important;
            --redoc-code-border-color: #475569 !important;
            
            /* Button styling */
            --redoc-button-background-color: #10b981 !important;
            --redoc-button-text-color: #ffffff !important;
            --redoc-button-hover-background-color: #059669 !important;
            
            /* Navigation */
            --redoc-sidebar-background-color: #1e293b !important;
            --redoc-sidebar-text-color: #cbd5e1 !important;
            --redoc-sidebar-arrow-color: #10b981 !important;
            
            /* Headers */
            --redoc-header-background-color: #1e293b !important;
            --redoc-header-text-color: #10b981 !important;
            
            /* Schema */
            --redoc-schema-background-color: #1e293b !important;
            --redoc-schema-border-color: #475569 !important;
            
            /* Responses */
            --redoc-response-success-color: #10b981 !important;
            --redoc-response-error-color: #ef4444 !important;
            --redoc-response-redirect-color: #f59e0b !important;
            --redoc-response-info-color: #14b8a6 !important;
            
            /* Links */
            --redoc-link-color: #10b981 !important;
            --redoc-link-hover-color: #059669 !important;
            
            /* Tabs */
            --redoc-tab-background-color: #334155 !important;
            --redoc-tab-text-color: #cbd5e1 !important;
            --redoc-tab-active-background-color: #10b981 !important;
            --redoc-tab-active-text-color: #ffffff !important;
        }

        /* Additional custom styling */
        .redoc-container {
            font-family: 'Inter', 'Segoe UI', sans-serif !important;
            background: var(--background) !important;
            color: #f8fafc !important;
        }

        /* Force all text elements to be readable */
        redoc * {
            color: #f8fafc !important;
        }

        redoc h1, redoc h2, redoc h3, redoc h4, redoc h5, redoc h6 {
            color: #f8fafc !important;
        }

        redoc p, redoc div, redoc span, redoc label, redoc td, redoc th {
            color: #f8fafc !important;
        }

        redoc .redoc-markdown p, redoc .redoc-markdown div {
            color: #cbd5e1 !important;
        }

        /* Schema and property styling */
        redoc [role="button"] {
            color: #f8fafc !important;
        }

        redoc .property-name {
            color: #10b981 !important;
        }

        redoc .property-type {
            color: #14b8a6 !important;
        }

        redoc .property-description {
            color: #cbd5e1 !important;
        }

        /* Operation and parameter styling */
        redoc .operation-path {
            color: #f8fafc !important;
            background: #1e293b !important;
        }

        redoc .field-name {
            color: #10b981 !important;
        }

        redoc .field-type {
            color: #14b8a6 !important;
        }

        redoc .field-description {
            color: #cbd5e1 !important;
        }

        redoc .response-type {
            color: #f8fafc !important;
        }

        /* Menu items */
        redoc .menu-item-level {
            color: #cbd5e1 !important;
        }

        redoc .menu-item-level.active {
            color: #10b981 !important;
        }

        /* Code blocks and examples */
        redoc pre {
            background: #1e293b !important;
            color: #e2e8f0 !important;
            border: 1px solid #475569 !important;
        }

        redoc code {
            background: #1e293b !important;
            color: #e2e8f0 !important;
            padding: 2px 4px !important;
            border-radius: 4px !important;
        }

        /* Header customization */
        .api-info h1 {
            color: var(--primary-green) !important;
            font-weight: 700 !important;
        }

        .api-info p {
            color: var(--text-secondary) !important;
            font-size: 1.125rem !important;
        }

        /* Menu styling */
        .menu-content {
            background: var(--background-card) !important;
            border-right: 2px solid var(--primary-green) !important;
        }

        .menu-item {
            border-bottom: 1px solid var(--border-color) !important;
        }

        .menu-item:hover {
            background: var(--background-hover) !important;
        }

        /* Operation blocks */
        .operation-type {
            font-weight: 600 !important;
        }

        .operation.get {
            border-left: 4px solid var(--primary-green) !important;
        }

        /* Schema and example styling */
        .redoc-json {
            background: var(--background-card) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: 8px !important;
        }

        /* Response status codes */
        .response-status.success {
            background: rgba(16, 185, 129, 0.2) !important;
            color: var(--primary-green) !important;
            border: 1px solid var(--primary-green) !important;
        }

        /* Parameters table */
        .params-table {
            background: var(--background-card) !important;
            border: 1px solid var(--border-color) !important;
        }

        .params-table th {
            background: rgba(16, 185, 129, 0.1) !important;
            color: var(--primary-green) !important;
            font-weight: 600 !important;
        }

        /* Add some animations */
        .menu-item {
            transition: all 0.3s ease !important;
        }

        .menu-item:hover {
            transform: translateX(4px) !important;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-green-dark);
        }
    </style>
</head>
<body>
    <header class="header" style="position: relative; z-index: 1000;">
        <div class="header-content">
            <h1><i class="fas fa-book"></i> ReDoc API Documentation</h1>
            <p>Comprehensive documentation for Gree.do API endpoints</p>
        </div>
        
        <nav class="navigation">
            <div class="nav-links">
                <a href="/" class="nav-link">
                    <i class="fas fa-home"></i>
                    Home
                </a>
                <a href="/docs" class="nav-link">
                    <i class="fas fa-code"></i>
                    Swagger
                </a>
                <a href="/health" class="nav-link">
                    <i class="fas fa-heartbeat"></i>
                    Health
                </a>
            </div>
        </nav>
    </header>

    <!-- ReDoc Container -->
    <div id="redoc-container" style="margin-top: 0; padding-top: 0;"></div>

    <!-- Custom footer with Han shot first message -->
    <div style="background: var(--background-card); border-top: 2px solid var(--primary-green); padding: 2rem; text-align: center; color: var(--primary-green); font-weight: 600; font-size: 1.125rem;">
        <i class="fas fa-star"></i> 
        Remember: Han shot first! 
        <i class="fas fa-star"></i>
        <br>
        <div style="margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
            <a href="/docs" style="color: var(--primary-green); text-decoration: none;">Switch to Swagger UI</a> | 
            <a href="/" style="color: var(--primary-green); text-decoration: none;">Return to Home</a>
        </div>
    </div>

    <!-- ReDoc JS -->
    <script src="https://cdn.jsdelivr.net/npm/redoc@2.1.3/bundles/redoc.standalone.js"></script>
    
    <script>
        // Initialize ReDoc
        Redoc.init('/openapi.json', {
            theme: {
                colors: {
                    primary: {
                        main: '#10b981'
                    },
                    success: {
                        main: '#10b981'
                    },
                    warning: {
                        main: '#f59e0b'
                    },
                    error: {
                        main: '#ef4444'
                    },
                    gray: {
                        50: '#f8fafc',
                        100: '#f1f5f9',
                        200: '#e2e8f0',
                        300: '#cbd5e1',
                        400: '#94a3b8',
                        500: '#64748b',
                        600: '#475569',
                        700: '#334155',
                        800: '#1e293b',
                        900: '#0f172a'
                    }
                },
                sidebar: {
                    backgroundColor: '#1e293b',
                    textColor: '#cbd5e1',
                    activeTextColor: '#10b981',
                    groupItems: {
                        textTransform: 'none'
                    },
                    level1Items: {
                        textTransform: 'none'
                    }
                },
                rightPanel: {
                    backgroundColor: '#0f172a',
                    textColor: '#f8fafc'
                }
            },
            typography: {
                fontSize: '16px',
                lineHeight: '1.6',
                fontFamily: 'Inter, "Segoe UI", Tahoma, Geneva, Verdana, sans-serif',
                headings: {
                    fontFamily: 'Inter, "Segoe UI", sans-serif',
                    fontWeight: '600'
                },
                code: {
                    fontSize: '14px',
                    fontFamily: '"Courier New", Consolas, Monaco, monospace'
                }
            },
            menu: {
                groupItems: {
                    fontWeight: '600'
                }
            },
            codeBlock: {
                backgroundColor: '#1e293b'
            }
        }, document.getElementById('redoc-container'));

        // Add CSS variables after ReDoc loads
        setTimeout(() => {
            const root = document.documentElement;
            root.style.setProperty('--background', '#0f172a');
            root.style.setProperty('--background-card', '#1e293b');
            root.style.setProperty('--background-hover', '#334155');
            root.style.setProperty('--text-primary', '#f8fafc');
            root.style.setProperty('--text-secondary', '#cbd5e1');
            root.style.setProperty('--primary-green', '#10b981');
            root.style.setProperty('--primary-green-dark', '#059669');
            root.style.setProperty('--secondary-teal', '#14b8a6');
            root.style.setProperty('--secondary-teal-dark', '#0f766e');
            root.style.setProperty('--accent-brown', '#8b5a2b');
            root.style.setProperty('--border-color', '#475569');
        }, 100);
    </script>
</body>
</html>